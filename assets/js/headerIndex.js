(()=>{"use strict";new class{constructor(e="body",t="#headerIndexContainer"){this.isStr(t)&&(t=document.querySelector(t)),this.isStr(e)&&(e=document.querySelector(e)),this.container=t,t.classList.add("headerIndexContainer"),this.base=e,this.frag=document.createDocumentFragment(),this.headers=[],this.tags=[0,0,0,0,0,0],this.refreshHeaders()}isStr(e){return"string"==typeof e}getHeaders(e=document,t=1){return this.isStr(e)&&(e=document.querySelector(e)),e.querySelectorAll(`h${t}`)}refreshHeaders(){let e=document.querySelectorAll("h1,h2,h3,h4,h5,h6");this.headers.length=0;for(let t of e)this.headers.push({id:t.id,content:t.innerText,level:+t.tagName.slice(1)});this.refreshContainerElement()}refreshContainerElement(){let e=document.createDocumentFragment();for(let t of this.headers)this.addIndexLinkElement(t,e);this.frag=e,this.container.innerHTML="",this.container.appendChild(e)}addIndexLinkElement(e,t=this.frag){let{level:n,content:r,id:s}=e,a=document.createElement("a");a.classList.add(`headerIndex_level_${n}`),this.tags[n-1]+=1;for(let e=n;e<this.tags.length;e++)this.tags[e]=0;let i=this.tags.slice(0,n).join("."),d=document.createElement("span");d.innerText=`${i}  `,d.classList.add("headerIndexTag");let h=document.createElement("span");h.innerText=r,a.appendChild(d),a.appendChild(h),a.href=`#${s}`,t.appendChild(a)}}("article","#headerIndex")})();