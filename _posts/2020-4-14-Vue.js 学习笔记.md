---
layout: post
title: Vue.js 学习笔记
date: 2020-4-14
categories: blog
tags: [JavaScript,FrontEnd,Web]
author: Mars
pIdentifier: 中文缩进
---
> 学习内容：[《Vue.js 官方教程》](https://cn.vuejs.org/v2/guide/)


## 1. 声明式渲染
通过`new Vue()`可声明一个 `Vue应用`，其接受一个对象参数，在这个参数中用`el`属性标明`Vue对象挂载的HTML元素`，用`data`属性记载对象的数据值。
  ```html
    <div id="app">
     {% raw %}  {{% endraw %}{ message }}
    </div>
    <script>
      var app = new Vue({
        el: '#app',
        data: {
          message: 'Hello Vue!'
        }
      })
    </script>
  ```
## 2. 指令
在`Vue应用所绑定的HTML元素上`，添加的带有`v-`前缀的属性叫做`指令`。
### 2.1 v-bind 指令
**缩写：** `:`


`v-bind`指令用于将HTML上元素的某一`属性`与`Vue应用内的某一属性`绑定在一起（共同变化）。
```html
<div id="app-2">
  <span v-bind:style="cssContent">
    你看到的我是蓝色的。
  </span>
</div>
<script>
  var app2 = new Vue({
    el: '#app-2',
    data: {
      cssContent: 'color: blue;'
    }
  })
</script>
```
### 2.2 v-if 指令 (条件渲染)
元素设置了`v-if`指令时，只有在`v-if`指令表达式返回`true`值时，元素才会被渲染，否则将不被渲染。
```html
<div id="if" v-if='show'>看得到吗？</div>
<script>
  let iiff = new Vue({
    el: '#if',
    data: {
      show: false
    }
  });
</script>
```
### 2.3 v-else 指令 (条件渲染之后，如果为假则渲染)
`v-else`指令表示条件渲染之后，如果为假则渲染此元素。
(`v-else`元素必须紧跟在带`v-if`或者`v-else-if`的元素的后面，否则它将不会被识别。)
```html
<div v-if="Math.random() > 0.5">
  Now you see me
</div>
<div v-else>
  Now you don't
</div>
```
### 2.4 v-else-if 指令 (条件渲染之后，继续添加条件渲染块)
表示 `v-if` 的“else if 块”。可以链式调用。
(`v-else-if`元素必须紧跟在带`v-if`或者`v-else-if`的元素的后面，否则它将不会被识别。)
```html
<div v-if="type === 'A'">
  A
</div>
<div v-else-if="type === 'B'">
  B
</div>
<div v-else-if="type === 'C'">
  C
</div>
<div v-else>
  Not A/B/C
</div>
```
### 2.5 v-show 指令 (条件显示)
根据`v-show`表达式之真假值，切换元素的 `display CSS 属性`。
### 2.6 v-for 指令 (遍历渲染)
`v-for`指令表示利用目标元素的可遍历性，遍历多次渲染其每一内部元素。

【接受数据类型】 Array | Object | number | string | Iterable (2.6 新增)
#### 2.6.1 v-for 指令通常用法
使用语法`alias in expression`遍历每一元素。
**（不能使用在Vue应用绑定的根元素上，必须是内部的子元素）**
```html
<div id='app'>
  <div v-for='item in list'>
    {% raw %}  {{% endraw %}{ item.content }}
  </div>
</div>

<script>
let app = new Vue({
  el: '#app',
  data:{
    list: [{content:1},{content:2},{content:3}]
  }
  });
</script>
```
#### 2.6.2 v-for 指令同时遍历内容和索引
可以用`一个圆括号内的两个变量`对目标变量进行遍历，其遍历结果第一个为`遍历结果本身`，第二个为该遍历结果在原元素内的`索引值`。
```html
<div id='app'>
  <div v-for='(a,b) in list'>
    {% raw %}  {{% endraw %}{ a }} {{b}}
  </div>
</div>

<script>
let app = new Vue({
  el: '#app',
  data:{
    list: [{content:1},{content:2},{content:3}]
  }
  });
</script>
```
> **显示结果：<br>**
{ "content": "1" }0<br>
{ "content": "2" }1<br>
{ "content": "3" }2

#### 2.6.3 v-for 指令遍历对象属性
也可以用 `v-for` 来遍历一个对象的属性。

可以使用单独的变量来遍历，也可以使用圆括号括着的两个或三个变量来遍历。

> 当使用一个变量时，遍历结果为每一属性的值；<br>
当使用两个变量时，遍历结果第一个为每一属性的值，第二个为属性的键名；<br>
使用三个变量时，遍历结果第一个为每一属性的值，第二个为属性的键名，第三个为每一属性的索引。

```html
<ul id="v-for-object" class="demo">
  <li v-for="(a,b,c) in object">
    {% raw %}  {{% endraw %}{ a }}{{ b }}{{ c }}
  </li>
</ul>
```
```js
new Vue({
  el: '#v-for-object',
  data: {
    object: {
      title: 'How to do lists in Vue',
      author: 'Jane Doe',
      publishedAt: '2016-04-10'
    }
  }
})
```
> **显示结果：<br>**
How to do lists in Vue / title / 0 <br>
Jane Doe / author / 1 <br>
2016-04-10 / publishedAt / 2

#### 2.6.3 v-for 指令渲染结果的更新机制及key属性的必要性
