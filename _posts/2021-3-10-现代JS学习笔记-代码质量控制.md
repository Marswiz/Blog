---
layout: post
title: 现代JS学习笔记：代码质量控制
date: 2021-3-10
categories: blog
tags: [JavaScript]
author: Mars
pIdentifier: 中文缩进
---
> 学习内容：[《现代JavaScript教程》](https://zh.javascript.info/)

# 21	代码质量
## 21.1	断点调试

1. Chrome打开控制台，在脚本的行号上单击，就可以设置断点。右击可以设置条件断点。
2. 在代码中直接写入命令： debugger。就可以在当前位置停下并打开调试窗；

## 21.2	注释

应该注释这些内容： 

1. 整体架构，高层次的观点。
2. 函数的用法。
3. 重要的解决方案，特别是在不是很明显时。

避免注释这些内容：

1. 描述“代码如何工作”和“代码做了什么”。
2. 避免在代码已经足够简单或代码有很好的自描述性而不需要注释的情况下，还写些没必要的注释。

## 21.3	代码风格

官方建议的代码风格：

![官方代码风格](/assets/posts/1.png)
 
建议风格列表如下（非必须）：

- 左花括号与相应的关键词在同一行上 — 而不是新起一行。左括号前还应该有一个空格；
- 过长的代码应该分隔成多行，一行代码的最大长度应该在团队层面上达成一致。通常是 80 或 120 个字符；
- 水平方向上，每次缩进2个空格；
- 垂直方向上，每个逻辑代码块前后各空一行。 永远不应该出现9行没有空行的情况；
- 每一个语句后面都应该有一个分号。即使它可以被跳过；
- 尽量避免代码嵌套层级过深；
- 主代码辅助函数的声明，放在代码最后写，先写调用代码。

## 21.4	避免“忍者代码”（忍者：垃圾代码的测试人员）

- 正确命名变量，体现变量的含义，不要使用没意义甚至一个字母的变量；
- 不要为了体现个人智慧或可以简短而丧失代码可读性；
- 不要使用缩写，否则很难识别；
- 不要使用抽象的变量名，例如：data/value/num/str等；
- 不要使用看起来相似的变量名：比如data和date;
- 同一个函数命名前缀应该达成同一种功能，show\display\paint这些如果都作为显示使用，则应该统一不应该随机出现；
- 不要复制相同的名字变量另作他用；
- 不要在变量名头部随意使用下划线；
- 不要使用带有个人感情的词汇命名变量，比如：theBestThing;
- 不要在不同的代码块内使用同名变量；
- 函数不应该有除自身功能之外的副作用，并且返回期待类型的结果；
- 函数的命名与函数的功能应该统一，不要添油加醋的功能。
